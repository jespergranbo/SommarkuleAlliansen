@model IEnumerable<SommarkuleAlliansen.Models.location>
@{
    ViewBag.Title = "Registrera";
    int shirtSizes = 80;
}

<div class="standardStyle">
    <h1 id="ResizeText">Anmälningsformulär för Sommarkulan 2019</h1>
    @using (Html.BeginForm())
    {
        <form action="Register()" method="post">
            <h4>Period</h4>
            <div class="registerStyle">
                <select style="width: 100%;" name="location_id">
                    @foreach (var item in Model)
                    {
                        <option value="@item.location_id">@item.location_name, @item.weeks (@String.Format("{0:MM/dd}", item.start_date) - @String.Format("{0:MM/dd}", item.end_date)), @item.price:-</option>
                    }
                </select>
            </div>
            <h3 style="margin-top:5%;">Barnets Uppgifter</h3>
            <div class="registerStyle">
                <label>Barnets Namn:</label> <br />
                <input type="text" id="childName" name="child_name" required /> <br />
                <label>Födelsedatum:</label> <br />
                <input type="date" id="childBirth" name="birth" required /> <br />
                <p class="text-danger" id="errorMessage" style="visibility:hidden">Födelseåret får bara vara mellan 2007 - 2012.</p>
                <label>Tröjstorlek:</label> <br />
                <select name="shirtSize" required>
                    @for (int i = 0; i < 5; i++)
                    {
                        if (i <= 3)
                        {
                            <option value="@shirtSizes CL" id="@i">@shirtSizes CL</option>
                            shirtSizes += 20;
                        }
                        else
                        {
                            <option value="Small" id="4">Small</option>
                            <option value="Medium" id="5">Medium</option>
                            <option value="Large" id="6">Large</option>
                        }
                    }
                </select> <br />
                <div>
                    <label class="SwimmingKnowledge" style="margin-right: 20%;">
                        Simkunnig: <br />
                        <center>
                            <label><input class="form-radio-css" type="radio" id="swimTrue" value="true" name="canSwim" required /> Ja</label>
                            <label><input class="form-radio-css" type="radio" id="swimFalse" value="false" name="canSwim" /> Nej</label>
                        </center>
                    </label>
                    <label class="Knowledge" style="margin-right: 20%;">
                        Tillåt att barnet är med på foton: <br />
                        <center>
                            <input class="form-radio-css" type="radio" id="photoTrue" value="true" name="allowPhoto" required /> Ja
                            <input class="form-radio-css" type="radio" id="photoFalse" value="false" name="allowPhoto" /> Nej
                        </center>
                    </label>
                    <label class="Knowledge">
                        Barnet vaccinerat mot stelkramp: <br />
                        <center>
                            <input class="form-radio-css" type="radio" id="vaccineTrue" value="true" name="isVaccinated" required /> Ja
                            <input class="form-radio-css" type="radio" id="vaccineFalse" value="false" name="isVaccinated" /> Nej
                        </center>
                    </label>
                </div>
                <label style="margin-top: 3%;">
                    Annan information som kan vara nödvändig för sommarkulans ledare:
                    <textarea id="childComment" name="comment" style="width: 100%;"></textarea>
                </label>
            </div>
            <h3 style="margin-top:5%;">Vårdnadshavarens Uppgifter</h3>
            <div class="registerStyle">
                <label>Namn:</label> <br />
                <input type="text" id="caretakerName" name="caretakerName" required /> <br />
                <label>Adress:</label> <br />
                <input type="text" id="caretakerAddress" name="caretakerAddress" required /> <br />
                <label>Mailadress:</label> <br />
                <input type="email" id="caretakerEmail" name="caretakerEmail" required /> <br />
                <label>Mobilnr (eller annat telenr där du kan kontaktas dagtid):</label> <br />
                <input type="number" id="caretakerNumber" name="caretakerNumber" required /> <br />
                <label>Alternativ kontaktperson (annan målsman/mor- eller farförälder):</label> <br />
                <input type="text" id="alternativeName" name="altName" required/> <br />
                <label>Telenr till alternativ kontaktperson:</label> <br />
                <input type="number" id="alternativeNumber" name="altNumber" required/> <br />
                <h4>Informationen kommer att skickas som en bekräftelse till din mail.</h4>
                <input type="submit" value="Skicka" id="register" class="btn btn-outline-secondary" />
            </div>
        </form>
    }
</div>
<script>
    document.getElementById("childBirth").addEventListener("change", function () {
        var input = this.value;
        var dateEntered = new Date(input);
        if (dateEntered.getFullYear() > 2012 || dateEntered.getFullYear() < 2007) {
            document.getElementById("errorMessage").style.visibility = "visible";
            document.getElementById("register").disabled = true;
        }
        else {
            document.getElementById("errorMessage").style.visibility = "hidden";
            document.getElementById("register").disabled = false;
        }
    });
</script>